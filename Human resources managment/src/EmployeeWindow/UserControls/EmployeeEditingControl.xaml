<UserControl x:Class="Human_resources_managment.EmployeeWindow.UserControls.EmployeeEditingControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Human_resources_managment.EmployeeWindow.UserControls"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:validate="clr-namespace:Human_resources_managment.Classes.Validate"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <StackPanel Orientation="Vertical" HorizontalAlignment="Center" Margin="20">
        <ComboBox x:Name="projBox"  IsEditable="True" IsTextSearchEnabled="False" 
           Text="{Binding FilterTextProject, UpdateSourceTrigger=PropertyChanged}" 
           SelectedItem="{Binding SelectedProj, Mode=TwoWay}" ItemsSource="{Binding FilteredProject}" 
           Width="200" Height="40" VerticalAlignment="Center" 
           Background="White" BorderThickness="1"
           Padding="5,0,5,0"
           FontSize="20"
           BorderBrush="Crimson"
           materialDesign:HintAssist.Hint="Сотрудник"
           materialDesign:ComboBoxAssist.ShowSelectedItem="True"
           Style="{StaticResource MaterialDesignOutlinedComboBox}">
        </ComboBox>

        <Border BorderThickness="1"  BorderBrush="Red"  CornerRadius="5"  MinWidth="200" MaxWidth="300" HorizontalAlignment="Center" Margin="0 20 0 0">
            <Grid Margin="5">
                <TextBlock x:Name="textEmail" MouseDown="textEmail_MouseDown" Text="Почта" Style="{StaticResource textHint}" FontSize="20"/>
                <TextBox x:Name="email" materialDesign:HintAssist.HelperText=""  Foreground="Crimson" TextChanged="email_TextChanged"  CaretBrush="Black" Background="Transparent"  Style="{StaticResource MaterialDesignFilledTextBox}" FontSize="20" Padding="2">
                    <TextBox.Text>
                        <Binding Path="Email" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
                            <Binding.ValidationRules>
                                <validate:ValidateEmail ValidatesOnTargetUpdated="True"/>
                            </Binding.ValidationRules>
                        </Binding>
                    </TextBox.Text>
                </TextBox>
            </Grid>
        </Border>

        <Border BorderThickness="1"  BorderBrush="Red"  CornerRadius="5"  MinWidth="200" MaxWidth="300" HorizontalAlignment="Center" Margin="0 20 0 0">
            <Grid Margin="5">
                <TextBlock x:Name="textPhone" MouseDown="textPhone_MouseDown" Text="Телефон" Style="{StaticResource textHint}" FontSize="20"></TextBlock>
                <TextBox x:Name="phone"  materialDesign:HintAssist.HelperText=""  Foreground="Crimson" TextChanged="phone_TextChanged"  CaretBrush="Black"  Background="Transparent"  Style="{StaticResource MaterialDesignFilledTextBox}" FontSize="20" Padding="2">
                    <TextBox.Text>
                        <Binding Path="Phone" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
                            <Binding.ValidationRules>
                                <validate:ValidatePhone ValidatesOnTargetUpdated="True"/>
                            </Binding.ValidationRules>
                        </Binding>
                    </TextBox.Text>
                </TextBox>
            </Grid>
        </Border>

        <ComboBox   IsEditable="True" IsTextSearchEnabled="False" Margin="0 20 0 0"
           Text="{Binding FilterTextDepart, UpdateSourceTrigger=PropertyChanged}" 
           SelectedItem="{Binding SelectedDepart, Mode=TwoWay}" ItemsSource="{Binding FilteredDepart}" 
           Width="200" Height="40" VerticalAlignment="Center" 
           Background="White" BorderThickness="1"
           Padding="5,0,5,0"
           FontSize="20"
           BorderBrush="Crimson"
           materialDesign:HintAssist.Hint="Отдел"
           materialDesign:ComboBoxAssist.ShowSelectedItem="True"
           Style="{StaticResource MaterialDesignOutlinedComboBox}">
        </ComboBox>

        <ComboBox   IsEditable="True" IsTextSearchEnabled="False" Margin="0 20 0 0"
           Text="{Binding FilterTextPos, UpdateSourceTrigger=PropertyChanged}" 
           SelectedItem="{Binding SelectedPos, Mode=TwoWay}" ItemsSource="{Binding FilteredPos}" 
           Width="200" Height="40" VerticalAlignment="Center" 
           Background="White" BorderThickness="1"
           Padding="5,0,5,0"
           FontSize="20"
           BorderBrush="Crimson"
           materialDesign:HintAssist.Hint="Должность"
           materialDesign:ComboBoxAssist.ShowSelectedItem="True"
           Style="{StaticResource MaterialDesignOutlinedComboBox}">
        </ComboBox>

        <Button Content="Сохранить" Margin="0 20 0 0" HorizontalAlignment="Center" FontSize="26" Height="45" Width="160" Style="{StaticResource backBttn}"  Cursor="Hand" Command="{Binding SaveCommand}"/>
    </StackPanel>
</UserControl>
